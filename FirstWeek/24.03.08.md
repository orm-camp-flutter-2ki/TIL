## Dart

- 메서드 파라미터 중괄호 대괄호 차이
    - {} : 네임드 파라미터로 호출시 반드시 파라미터명을 써주어야함
    - [ ] : 기본값을 설정할 수 있지만, 파라미터명은 굳이 안써줘도 되는것
- 파라미터에 required 값을 넣으면, 기본값은 설명

### Class II

- Dart는 모든 타입이 레퍼런스(참조타입)이다.
    - 순환참조나..강한참조가….
    - 클래스는 모두 heap 할당
    - 인스턴스를 실체화할때, 실체는 힙에, 주소값은 스택에 저장된다.
        - `final here = Hero(name: ‘홍길동’, hp: 100);`
        - `final hero` : 주소값을 가지고있는 대명사라고 보면 된다.
        - `Hero(name: ‘홍길동’, hp: 100);` : 여기는 힙에 할당된 객체의 실체.
    - 인스턴스 참조
        
        ```dart
        final hero1 = Hero(name: '홍길동', hp: 100);
        final hero2 = hero1;
        hero2.hp = 200;
        ```
        
        - 이걸 어케 설명해야되나
        - 참조 타입을, 메모리에 올리면 (클래스의 인스턴스를 생성하면) 주소가 등록됨
        - 이후 어디선가 만들어둔 참조타입을 컴퓨터가 사용하려고 하면, 컴퓨터는 기존에 등록되어있던 그 ‘주소’를 찾아가서 코드를 읽음 (그 주소에있는 값들을 가져옴)
        - 위 예시코드의 2번째줄에서 이미 만들어둔 hero2에다가 hero1 이라는 것을 집어넣음 (즉 이미 등록되어있던 hero1라는곳의 주소를 찾아가서 해당 주소에 존재하는 hero1의 값들을 가져와서 넣은것임)
        - 이 말은 새로운 hero2를 만든게 아니라, 그냥 기존의 hero1 을 **‘공유’** 한다고 보면됨.
        - 그렇기 때문에 hero2를 선택해서 필드값을 바꾸더라도, 어차피 hero2에 있는것은 hero1이기 때문에 hero1의 값도 같이 변경된다.
        - 반대로 stack에 올라가는 값이나 타입들은, 위와 동일한 방식으로 사용을 하더라도, 값이 ‘공유’ 되는게 아니라 ‘복제’ 가 되어 별개의 존재로 취급받음.
        - 참조타입의 반대말은 값타입이라고도 하는데 Dart는 값타입이 존재하지 않는것 같음.
            - Dart에서는 전통적인 값타입이 존재하지 않고, 원시타입과 컬렉션타입이 값에 의한 전달 방식으로 동작한다고 함.
    - 인스턴스가 상수로 선언되었다해도 필드의 값을 바꾸는건 가능하다. 다만 내부의 값자체가 상수로 선언되어있다면 변경이 불가능할뿐.
    - 생성자 = Construction
        - 이니셜라이져와 똑같다.
        - 생성자에서 옵셔널값과 named parameter는 중괄호에 넣어준다.
        - 생성자에서 기본값을 지정해줄 수 도 있다.
        - 생성자에서 옵셔널이 아닌 필드값들은 필수인지라 굳이 required 키워드는 필요없음. 다만 생성시에, 반드시 필드명을 구분짓고싶으면 넣어도 된다.
            
            ```dart
            class Hero {
            	String name;
            	int hp;
            	Sword? sword;
            
            	Hero(this.name, this.hp, {this.sword});
            	Hero(this.name, {this.hp = 100, this.sword});
            }
            ```
            
        - 즉 별도의 convenience init 을 만들 필요가 없음.
        - 생성자(+ 파라미터) 옵션 정리
            1. 기본적으로 옵셔널(nullable)이 아닌 필드값은 필수값이다.
            2. 일반 네임드 파라미터 쓰는것과 동일하게, 생성시 필드네임을 꼭 기입하도록 하고싶으면 중괄호안에 넣어준다. 이 때 중괄호안에 들어가면 기본값도 세팅해줘야한다.
            3. 만약 기본값을 세팅하기 싫다? 그럼 중괄호 안에 required 키워드도 붙여준다.
            4. 그리고 nullable 필드를, 생성자에 넣을때는 중괄호 안에 넣어줘야 한다
        
    - Static
        - Static 키워드를 필드앞에 붙여주면, 공유자원이 되어버린다.
        - 멤버변수가 아닌 타입변수가 된다는 뜻임.
        - 멤버란, 실체화된 인스턴스들을 말하고, 타입은 타입 그 자체를 말하는것(클래스면 클래스, 이넘이면 이넘 등등)
        - `클래스명.스태틱변수 || 스태틱메서드` 이렇게 쓰면 됨. 생성자 괄호 필요없음.
        - 클래스 내부에서 static 메서드나 변수를 사용하고자 할 때에도 `클래스명.스태틱변수 || 스태틱메서드` 로 사용해야됨.
        - static 메서드 내부에선, 멤버변수를 가져올 수 없다. 같은 static만 가져올 수 있음.
            - 반대로는 가능하다. 내부 메서드에서는 static 값을 변경하거나, static 메서드를 사용할 수 있음
            - 일반
        - 생성자에서 static 사용하기
            - 기본적으로 생성자에서 static을 사용할 수 없다. 굳이 사용하려면, 생성자 파라미터를 옵셔널로 만든다음 Java에서 쓰는 방식? 이걸 쓰면 된다고 한다.
            
            ```dart
            class Cleric {
              static final maxHp = 50;
              static final maxMp = 10;
            
              String name;
              int hp;
              int mp;
            
              // Cleric({required this.name, this.hp = 50, this.mp = 10});
            
              Cleric({required this.name, int? hp, int? mp})
                  : this.hp = hp ?? maxHp,
                    this.mp = mp ?? maxMp;
            }
            ```
            
            - 하지만, `final` 키워드 대신에 `const`를 사용하면 생성자에서도 static을 쓸 수 있다.
                - final은 런타임, const는 컴파일 타임에 메모리에 올라감.
                - 즉 생성자에서, 런타임에 올라가는 변수같은것을 쓰려면, 아직 메모리에 올라오지도 않았는데 어케씀? 과 같은 이유로 사용하지 못하는것 같다.
                - 명확히 알려면, Flutter 앱 생명주기에 대해서도 잘 알아야 할 것 같음.
                - 좀.. 쉽게 설명을 하자면, class를 선언한다고 class는 메모리에 할당되는게 아님. 인스턴스가 생성되었을 때, 이게 메모리에 할당 되는거지. 그러니까 class 내부에 있는 필드들과 모든게 인스턴스가 실체화가 되어야 사용가능한 상태가 된다는 뜻임.
                - 근데 나는 이 class의 특정 필드에 기본값을 넣어주고 싶어, 근데 그 기본값은 어떤 변수야. 근데, 이 변수는 아직 만들어지지 않았어(메모리에 올라가지 않았어).왜냐? 일반적인 변수들은 런타임때 메모리에 올라가거든.
                - 그럼 값으로 변수가 아니라 일반 숫자 10, ‘텍스트’ 이런거는 왜 돼냐? 라고 물으면, int, string, double 뭐 이런 자료형들은 컴파일타임에 결정되는 친구들이기 때문임.
                - 여튼 값으로 변수를 할당하려면 IDE에서 ‘이건 아직 존재하지도않는건데 어떻게 갖다 씀? 못씀.’ 이라고 에러를 보내는것임.
                    
                    ![alt text](<스크린샷 2024-03-08 오후 2.57.31.png>)
                    
                - 위의 사진과 같이, 저걸 쓸려면 must be constant 여야 한다. 즉 컴파일타임에 메모리에 올라가도록 만들어서 써라 라고 하는것임
                

## Dart naming rules

1. 타입의 이름은 어퍼 카멜케이스
2. 클래스의 생성자를 통해 초기화시킬 값이 존재하지 않는다면, 인스턴스를 생성할 때 `const` 를 사용해도 된다.
3. 패키지, 디렉토리, 소스파일의 네이밍은 로월케이스와 언더바를 써서 만든다.

    ```dart
    my_package
    └─ lib
    └─ file_system.dart
    └─ slider_menu.dart
    ```

1. 임포트 할때도 로월케이스와 언더바

    ```dart
    import 'dart:math' as math;
    import 'package:angular_components/angular_components.dart' as angular_components;
    import 'package:js/js.dart' as js;
    ```

1. 기타 다른 식별자들 (변수나 메서드나 파라미터나 기타 등등)은 로월 카멜케이스로
2. 두글자보다 긴 약어와, 약어는 대문자료 표기

    ```dart
    class HttpConnection {}
    class DBIOPort {}
    class TVVcr {}
    class MrRogers {}

    var httpRequest = ...
    var uiHandler = ...
    var userId = ...
    Id id;
    ```

1. 사용하지 않는 콜백 파라미터는 언더바로 
2. private 할거 아니면, 모든 identifier앞에 언더바로 시작하지 마라.
3. 접두사 쓰지마셈
4. 라이브러리의 이름을 명시적으로 표시하지 마라 → 이건 뭔말인지 잘 모르겠다. 
5. Dart 퍼스트 파티 라이브러리 임포트할때는 `‘dart: math’` 와 같이 `‘dart’`를 적어줘라
6. 연관 파일을 임포트할때에는 `‘package:’` 를 적어줘라
7. `import` 작성문과 `export` 작성문을 구분시켜라
8. `import` 할 때 알파벳순으로 오름차순으로 위에서부터 적어라
9. Dart에서 제공하는 기본 코드포멧써라 `opt + cmd + L` 
10. 한줄에 80자 이하로 써라 
    1. 예외는 주석, 파일경로, URI같은거 쓸 때는 넘어도 됨
11. 애지간하면 중괄호안에 코드 써라
    1. 예외는 메서드가 한줄일때는 생략가능 

## 기타

- 궁금한것
    - 필드명들이 파라미터나, 지역변수명과 겹칠때 `this` 를 쓰지 않는다면 어떻게 구분할 수 있는가?
        - 되도록이면 안겹치게 작성하는게 좋으나, 어쩔 수 없는 상황에서는 `this` 를 사용해도 무방하다
        - 예를들어 A 클래스가 B클래스를 소유하고 있고, A의 필드명이 B에서 사용하는 메서드의 파라미터명과 겹치거나 이럴 때 ?
        - 메서드의 파라미터명과, 메서드내 지역변수가 이름이 겹치게 되면 파라미터는 사용하지 못하게 된다. **근데 따로 에러가 발생하지는 않음.**
    - 파라미터 네이밍 규칙같은거에 줄임말을 써도 되는가?
        - 약어는 되는데 다른건 모르겠네
    - 클래스내 멤버 메소드에서, 타입변수를 가져다 쓸때, 굳이 타입명을 안붙여도 정상동작하던데 쓰는게 좋을지?
        - 그냥 타입명을 명시해주는게 좋다.
- 다른 파일의 객체를 쓰기위해서는, 파일에 사용하고자 하는 객체가 있는 파일을 import 해줘야함. react랑 동일함.
- 주소상 package가 프로젝트 내 최상위 디렉토리라고 보면 될듯.