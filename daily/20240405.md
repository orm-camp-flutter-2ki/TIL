# <span style="color:lime">202404 í”ŒëŸ¬í„° ê³¼ì • 6ì£¼ì°¨ ê¸ˆìš”ì¼</span>   

## 1. ê¼­ ê¸°ì–µí•  ê²ƒ! ğŸ…

## Layout
### SliverAppBar
appBar ìˆ¨ê¸°ê³ , ìŠ¤í¬ë¡¤í•´ë„ í•„ìš”í•œ ë¶€ë¶„ë§Œ(ì£¼ë¬¸ ë©”ë‰´ ë“±) ìƒë‹¨ì— ê³ ì •í•  ìˆ˜ ìˆìŒ

## FutureBuilder
- ë¡œë”© ë¡œì§

![alt text](image-105.png)

- return const CircularProgressIndicator();
- lottieë¥¼ ë„£ì„ ìˆ˜ë„ ìˆìŒ


### Antipattern
buildë¶€ë¶„ì—” async ë„£ìœ¼ë©´ ì•ˆë¨
build ë¶€ë¶„ì— then() ë„£ì–´ê°€ì§€ê³  setState() í•˜ë©´ ì•ˆë¨
buildê°€ ì—„ì²­ ì—¬ëŸ¬ ë²ˆ ë˜ë¯€ë¡œ

buildì—ì„œ ë°ì´í„° ìš”ì²­ ì ˆëŒ€ ê¸ˆì§€!

### initState() í•¨ìˆ˜
ìƒì„±ìì™€ ë¹„ìŠ·í•˜ê²Œ ë¹Œë“œ í•  ë•Œ ìµœì´ˆ í•œë²ˆë§Œ ìˆ˜í–‰ë¨
initState -> Statefulì—ë§Œ ìˆìŒ

### ìœ„ì ¯ìœ¼ë¡œ ë°”ê¿”ì„œ ë°ì´í„° ë„£ê¸°
![alt text](image-104.png)

### ë¼ì´ë¸Œí…œí”Œë¦¿

- vscode ê¸°ì¤€ (freezed ì˜ˆì‹œ)
	- make file ->  .vscode/project.code-snippets

```JSNO
{
  "Serializable freezed model": {
    "prefix": "fmodel",
    "description": "Declare a serializable freezed model",
    "body": [
      "import 'package:freezed_annotation/freezed_annotation.dart';",
      "",
      "part '${TM_FILENAME_BASE}.freezed.dart';",
      "part '${TM_FILENAME_BASE}.g.dart';",
      "",
      "@freezed",
      "class ${TM_FILENAME_BASE/(.*)/${1:/pascalcase}/g} with _$${TM_FILENAME_BASE/(.*)/${1:/pascalcase}/g} {",
      "  const factory ${TM_FILENAME_BASE/(.*)/${1:/pascalcase}/g}({",
      "    ${0}",
      "  }) = _${TM_FILENAME_BASE/(.*)/${1:/pascalcase}/g};",
      "",
      "  factory ${TM_FILENAME_BASE/(.*)/${1:/pascalcase}/g}.fromJson(Map<String, dynamic> json) => ",
      "      _$${TM_FILENAME_BASE/(.*)/${1:/pascalcase}/g}FromJson(json);",
      "}"
    ]
  }
}
```
- and Studio
	- macê³¼ windows í˜¸í™˜ ì•ˆë¨
	- jar íŒŒì¼ë¡œ exportë¨
	- ë‹¨ì¶•í‚¤ë§Œ ê°€ì ¸ì˜¤ëŠ” ê²ƒë„ ê°€ëŠ¥í•¨
## FutureBuilder Refactoring (FutureBuilderSample)

- í†µì‹ ì„í•´ì„œ snapshotì— ë°ì´í„°ê°€ ë“¤ì–´ì˜¤ê³  ê·¸ ë°ì´í„°ë¥¼ ê°€ì§€ê³  AwesomeDataë¥¼ ê·¸ë¦¬ë¼ëŠ” ê²ƒ

- http getë¿ ì•„ë‹ˆë¼ ì–´ë–¤ Futureí•¨ìˆ˜ê°€ ë“¤ì–´ì™€ë„ ë™ì‘í•¨

- Builder patternì€

	- builder: ConnectionState.waitingì€ ë¡œë”©ì¤‘
	- ConnectionState.doneì€ ëë‚¬ë‹¤ëŠ” ê²ƒ
	- switchë¡œ ì „ë¶€ ë°›ì„ í•„ìš”ëŠ” ì—†ìŒ
	- enumì´ë¼ switchë¡œ ë‹¤ ë°›ê¸´ í•˜ëŠ”ê²ƒ

- íƒ€ì… ìƒëµ(ì—ëŸ¬ ê·€ì°®ìœ¼ë¯€ë¡œ)

	![alt text](image-106.png)

- ë§ˆì§€ë§‰ return ì— ListView()ì— ë„£ê³ 
	
	![alt text](image-107.png)

- dataëŠ” ë¬´ì¡°ê±´ ë“¤ì–´ì˜¬í…Œë‹ˆê¹Œ ! ë„£ê³ 

	![alt text](image-108.png)

	- ë³€ìˆ˜ê°€ ì—†ì–´ì ¸ì„œ statelessë¡œ ë°”ê¿ˆ

-	ê°„ë‹¨í•˜ê²Œ ì´ë ‡ê²Œ ë°”ê¿ˆ
	
	![alt text](image-109.png)

- const ìƒì„±ìë¡œ ë°”ê¾¸ë ¤ë©´ ë³€ìˆ˜ê°’ì„ ì™¸ë¶€ì—ì„œ ë°›ì•„ì•¼í•¨
- ì•ˆì—ì„œ ìƒì„±í•˜ë©´ compileì´ ì•„ë‹ˆë¼ runtimeì— ê²°ì •ë˜ëŠ” ê±°ë¼ constê°€ ë  ìˆ˜ ì—†ì–´ì„œ ì™¸ë¶€ì—ì„œ ë°›ì•„ì„œ í•˜ëŠ” ê²ƒ 
- FutureBuilderê°€ statefulì´ê³ , constë¥¼ ë¶™ì—¬ë†“ëŠ” ê²Œ ì„±ëŠ¥ìƒ íš¨ìœ¨ì„± ìœ ì§€í•˜ëŠ” ë°©ë²•ì„	
- statefulì€ ë³€ìˆ˜ê°€ ìˆì–´ì„œ íœ´ë¨¼ ì—ëŸ¬ ê°€ëŠ¥ì„± ìˆìŒ / statelessëŠ” íœ´ë¨¼ ì—ëŸ¬ê°€ ì—†ì–´ì„œ ì¥ì ì´ ë” ë§ìŒ
- ë‹¤ë§Œ, Statelessì˜ ê²½ìš°ì—ëŠ” FutureBuilderë¥¼ ì´ì–´  returní•˜ëŠ” ê²½ìš°ê°€ ìƒê¸°ëŠ”ë°
ë„ˆë¬´ ê¸¸ì–´ì§€ë©´ ê´€ë¦¬ í˜ë“¤ ìˆ˜ë„ ìˆìŒ
	![alt text](image-110.png)

![alt text](image-111.png)

ì—ëŸ¬ ì²´í¬ë„ ê°€ëŠ¥í•¨

## Stateful Widget ìƒëª…ì£¼ê¸°

![alt text](image-112.png)

ì¶œì²˜ : https://fronquarry.tistory.com/16


## Navigation

* ë’¤ë¡œ ê°€ê¸° Navigator.pop(context)
ã„´ Futureí•¨ìˆ˜ì—ì„œëŠ” context ì“°ì§€ ë§ë¼ê³  í•¨.. 

- push ìì²´ê°€ futureë¼ì„œ ì£¼ê±°ë‹ˆ ë°›ê±°ë‹ˆ ë¨
- ë’¤ë¡œ ê°€ê¸° í•˜ë©´ trueê°€ ë°˜í™˜ë¨

![alt text](image-113.png)

```dart
onPressed(): () async {
bool? result = await Navigator.push( // nullì²˜ë¦¬í•´ì¤˜ì•¼
// íƒ€ì… ìì²´ëŠ” Të¡œ ë˜ì–´ìˆìŒ
	context,
	MatetialPageRout(...)
	print(result);
)

```

## go_router íŒ¨í‚¤ì§€

- ë¼ìš°í„°ëŠ” í™”ë©´ ì´ë™ì„ ë¯¸ë¦¬ ì •í•´ë†“ëŠ” ê²ƒ
- go ë¼ìš°í„° íŒ¨í‚¤ì§€
	- í”ŒëŸ¬í„°ê°€ ì§ì ‘ ê´€ë¦¬í•˜ëŠ” ì§ì ‘ íŒ¨í‚¤ì§€
	- Webpageì˜ ì£¼ì†Œì²´ê³„ í‘œí˜„í•  ìˆ˜ ìˆìŒ (ê±°ì˜ Webì²˜ëŸ¼ ì‚¬ìš©í•˜ëŠ” ê²ƒ)
	- ì£¼ì†Œì²´ê³„(directë˜ëŠ”)ë¥¼ ì“°ëŠ” ê²ƒì´ go_routerì„

- ì²˜ìŒ ì‹œì‘ì€ '/'ë¡œ ì‹œì‘í•˜ê³  ê·¸ ì´í›„ì—” restfulí•˜ê²Œ ì„¤ê³„í•˜ë ¤ë©´
	- '/albums'
	- '/photos'

	![alt text](image-114.png)

	![alt text](image-115.png)

- slashê°€ ì—†ìœ¼ë©´ í„°ì§€ëŠ”ë° intialLocation ì„¸íŒ…í•  ìˆ˜ ìˆìŒ
(ê³„ì† ë¶™ì¼ ìˆ˜ ìˆê²Œ ë¨)

- MaterialApp.router ìƒê¹€

	![alt text](image-116.png)

- routerConfig ì„¤ì •

	![alt text](image-117.png)

- context.push(ë¼ìš°í„° ì´ë¦„)ì¨ì„œ ì¤„ì¼ ìˆ˜ ìˆìŒ 

	![alt text](image-118.png)

- ë°ì´í„°ë„ ë°›ì„ ìˆ˜ ìˆìŒ

	![alt text](image-119.png)

- ì›¹ì‚¬ì´íŠ¸ëŠ” ìŒ“ëŠ” ê²Œ ì•„ë‹ˆë¼ ì™„ì „ êµì²´(pop/pushê°€ ì•„ë‹ˆë¼)
- GoëŠ” ì™„ì „ êµì²´ê³  ì£¼ê³  ë°›ê¸°ê°€ ì•ˆë¨(ìŒ“ì•„ë†“ì§ˆ ì•Šì•„ì„œ) <> Navigator

### íŒŒë¼ë¯¸í„° ì „ë‹¬

- RESTfulí•˜ê²Œ ì›¹ì—ì„œ ì§€ì›í•˜ëŠ” ë°©ì‹ì„ ì§€ì›í•˜ëŠ” ê²ƒ

	![alt text](image-120.png)


- í‘œì‹œëœ ê±¸ ì¿¼ë¦¬ ë¼ê³  í•¨ (1ì€ path)

![alt text](image-121.png)

- state.fullpath ì£¼ì†Œì— ?ì°ê³  í’€ ì£¼ì†Œ ì˜¬ ê²ƒ
- fullpath ì™¸ì—ë„ ì—¬ëŸ¬ê°€ì§€ ìˆìŒ

- ë°›ì„ ë•Œ queryParamsë¡œ ë°›ìŒ

	![alt text](image-122.png)

- ![s](image-123.png)

 ![alt text](image-124.png)

- ì¤‘ìš”

- êº¼ë‚¼ ë•Œ í„°ì§

![alt text](image-125.png)

- ì—†ëŠ” ì¿¼ë¦¬ë¥¼ ì“°ë©´ ì—†ëŠ” í˜ì´ì§€ë¼ê³  í•´ì„œ íŠ¹ì • í˜ì´ì§€ë¡œ ë³´ë‚´ëŠ” ê¸°ëŠ¥ë„ ìˆìŒ

	![alt text](image-126.png)

- ì• ë‹ˆë©”ì´ì…˜ ê¸°ëŠ¥ë„ ìˆìŒ

### ê°ì²´ì „ë‹¬ë°©ì‹

![alt text](image-127.png)

### Nested Route

![alt text](image-128.png)

### Hero
í™”ë©´ ë„˜ì–´ê°ˆ ë•Œ ì“°ë©´ ìˆì–´ë³´ì„

## ì™•ì´ˆë³´ ê°•ì˜
### ìŠ¤í†±ì›Œì¹˜
- spacer()ë¥¼ ì¨ì„œ ë‚˜ë¨¸ì§€ ì•„ì´í…œë“¤ì„ ë°‘ìœ¼ë¡œ ë‚´ë¦´ ìˆ˜ ìˆìŒ

- timer
	- ìì‹ ì´ ê°ì²´ë¡œ ë“¤ì–´ì˜´

	```dart
	Timer.periodic(const Duration(seconds: 1), (timer) {

	Â  Â  print('!!!');

	Â  });
	```

	```dart
	Â  @override

	Â  void dispose() {

	Â  Â  _timer?.cancel();
		// nullì´ ì•„ë‹ ë–ˆ ë™ì‘
		// nullì´ë©´ ì•„ë¬´ê²ƒë„ ì•ˆí•¨
	Â  Â  super.dispose();

	Â  }

	Â  
	String hundredth = '${_time % 100}'.padLeft(2, '0');
	// milie sec 2ìë¦¬ ìˆ˜ë¡œ ë§ì¶”ê¸°(ì•ˆì›€ì§ì´ê²Œ)


	Â  void reset() {

	Â  Â  _isRunning = false;
		// timer ìˆìœ¼ë©´ ì·¨ì†Œì‹œí‚´
	Â  Â  _timer?.cancel();
		// listë‚´ìš© ì§€ì›€
	Â  Â  _lapTimes.clear();

	Â  Â  _time = 0;

	Â  }
	Â  
	Â Â void _recordLapTime(String time) {

	Â  Â  _lapTimes.insert(0, '${_lapTimes.length + 1}ë“± $_time');

	Â  }


	Â SizedBox(

	Â  Â  Â  Â  Â  Â  width: 100,

	Â  Â  Â  Â  Â  Â  height: 200,

	Â  Â  Â  Â  Â  Â  child: ListView(

	Â  Â  Â  Â  Â  Â  Â  children: _lapTimes.map((time) => Center(child: Text(time))).toList(),

	Â  Â  Â  Â  Â  Â  ),
	Â  Â  Â  Â  Â  Â  // ì´ëŸ°ì‹ìœ¼ë¡œ ì •ë ¬ë„ ê°€ëŠ¥
	```

### ì›¹ ë¸Œë¼ìš°ì €

- ì•ˆë“œë¡œì´ë“œ ë²„ì „ ì²´ê³„ í™•ì¸
	- android/app/build.gradle

	- minSdkVersion flutter.minSdkVersion => 16ë²„ì „

	- minSdkVersion 21 => ì•ˆë“œë¡œì´ë“œ 5.0ë²„ì „

	- web view ì“°ë ¤ë©´ 19ì´ìƒì´ì–´ì•¼ í•¨

- flutter_my_web_browser\android\app\src\main\AndroidManifest.xml
	- ì•ˆë“œë¡œì´ë“œ ì•±ì˜ ì „ì²´ì ì¸ êµ¬ì„±ì„ ë‹´ë‹¹í•¨
	- ì™¸ë¶€ íŒ¨í‚¤ì§€ ê´€ë ¨í•´ì„œ ìˆ˜ì •í•  ë•Œ ì—¬ê¸° 
	- debug í´ë” ì—ë„ ë™ì¼í•œ íŒŒì¼ ìˆëŠ”ë°
	```
	<uses-permission android:name="android.permission.INTERNET"/>
	```
	- ì´ ë¶€ë¶„ ë³µì‚¬í•´ì„œ ë„£ì–´ì¤Œ (ì¸í„°ë„· ì‚¬ìš© ê¶Œí•œ ë¶€ì—¬í•¨)
	- iosëŠ” ë”°ë¡œ ì•ˆí•´ë„ ë¨ 
	- debugí´ë”ëŠ” ê°œë°œìš©ì´ê³ , ì¶œì‹œí•˜ë ¤ë©´ ë°©ê¸ˆ ì´ ê²½ë¡œ íŒŒì¼ì— ë„£ì–´ì¤˜ì•¼í•¨

#### ì˜¤ë¥˜ ClearText_not_permitted

- naverì ‘ì†í•  ë•Œ ë‚˜ì˜´
- androidìª½ ì´ìŠˆ
- and/app/main/AndroidManifest.xmlì— ë¶™ì—¬ë„£ê¸°


#### ì˜¤ë¥˜ ì¹´ì¹´ì˜¤ í™ˆí˜ì´ì§€ì—ì„œ 'ìë°”ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì‚¬ìš©ì•¼í•©ë‹ˆë‹¤'

ìë°”ìŠ¤í¬ë¦½íŠ¸ ì‚¬ìš©í•˜ëŠ” í˜ì´ì§€ì—ì„œ ìë°”ìŠ¤í¬ë¦½íŠ¸ ê¸°ëŠ¥ì´ í—ˆìš©ì´ ì•ˆë˜ì—ˆì„ ë•Œ ë‚˜ì˜¤ëŠ” ì˜¤ë¥˜ (í˜„ì¬ëŠ” ë¬¸ì œì—†ëŠ”ë“¯)

#### WillPopScope deprecated

### PopScope
PopScopeëŠ” ì•ˆë“œë¡œì´ë“œ 14ë¶€í„° ì§€ì›ë˜ëŠ” Predictive Back Featureë¥¼ ì§€ì›í•˜ê¸° ìœ„í•´ ìƒˆë¡­ê²Œ ë“±ì¥í•œ ahead-of-time APIë¡œ, ê¸°ì¡´ì— back press actionì„ ê´€ë¦¬í•˜ê¸° ìœ„í•´ ì‚¬ìš©ë˜ë˜ WillPopScopeì™€ Navigator.willPopì„ ëŒ€ì²´í•©ë‹ˆë‹¤.

`canPop`

- ë’¤ë¡œê°€ê¸° ë™ì‘ì„ ì œì–´í•˜ëŠ” boolean íƒ€ì… íŒŒë¼ë¯¸í„°ì…ë‹ˆë‹¤.
- default valueëŠ” trueì´ë©°, trueì¼ ê²½ìš° ë’¤ë¡œê°€ê¸° ë™ì‘ì´ í‰ì†Œì²˜ëŸ¼ ì‹¤í–‰ëœë‹¤ëŠ” ê²ƒì„ ì˜ë¯¸í•˜ë©° falseì¼ ê²½ìš° ë’¤ë¡œê°€ê¸° ë™ì‘ì´ ë¹„í™œì„±í™”ë©ë‹ˆë‹¤.

ê³µì‹ ë¬¸ì„œë¥¼ ë³´ë©° ìœ ì¶”í•´ë³¸ ë‚´ìš©ì€ WillScopePopì—ì„œ onWillPopìœ¼ë¡œ í™”ë©´ì„ ë°”ë¡œ pop í•˜ëŠ”ê²Œ ì•„ë‹ˆë¼, canPopì˜ ì¸ìë¡œ boolean ê°’ì„ ë³´ë‚´ë©´ì„œ pop ë ì§€ ë§ì§€ì˜ ì—¬ë¶€ë¥¼ ë¯¸ë¦¬ ì •í•˜ë¼ëŠ” ê²ƒ ê°™ìŠµë‹ˆë‹¤.

`onPopInvoked`

- ì„±ê³µ ì—¬ë¶€ì— ê´€ê³„ ì—†ì´ ë’¤ë¡œê°€ê¸° ë™ì‘ì´ ë°œìƒí–ˆì„ ë•Œ í˜¸ì¶œë˜ëŠ” ì½œë°± í•¨ìˆ˜ì…ë‹ˆë‹¤.
- canPopì´ falseì—¬ë„ onPopInvokedëŠ” ì—¬ì „íˆ í˜¸ì¶œë˜ë©°, didPopì€ falseì…ë‹ˆë‹¤(PopScopeì™€ ê´€ë ¨ë˜ì§€ ì•Šì€ ì´ìœ ë¡œ Popì— ì‹¤íŒ¨í–ˆì„ ë•Œë„ falseì…ë‹ˆë‹¤). ë°˜ë©´ canPopì´ trueë©´ didPopë„ trueì…ë‹ˆë‹¤.

#### Migrating from WillPopScope to PopScope

WillPopScopeì—ì„œ PopScopeë¡œ ë§ˆì´ê·¸ë ˆì´ì…˜ í•˜ê³  ì‹¶ë‹¤ë©´ ê³µì‹ ì‚¬ì´íŠ¸ë¥¼ ì°¸ê³ í•´ì£¼ì„¸ìš”.  
[https://docs.flutter.dev/release/breaking-changes/android-predictive-back#migration-guide](https://docs.flutter.dev/release/breaking-changes/android-predictive-back#migration-guide)

ì¶œì²˜ : https://velog.io/@jeongminji4490/Flutter-WillPopScope-Deprecated


## 2. í•œì¤„ ì •ë¦¬ ğŸ§¹
1. badge library -> ì•ŒëŒ í‘œì‹œ ë“±
2. stateful + ë³€ìˆ˜ ìˆëŠ” ë°©ë²• + ë‚´ë¶€ì—ì„œ ìƒì„± vs. stateless + ë³€ìˆ˜ì—†ëŠ” ë°©ë²• + ì™¸ë¶€ì—ì„œ ë³€ìˆ˜ê°’ ë°›ëŠ” ë°©ë²•




