# 202404 í”ŒëŸ¬í„° ê³¼ì • 9ì£¼ì°¨ í™”ìš”ì¼

## 1. ê¼­ ê¸°ì–µí•  ê²ƒ! ğŸ…
### Stream
- ì‹¤ì‹œê°„ìœ¼ë¡œ ìƒì„±ë˜ê³  ì „ì†¡ë˜ëŠ” ë°ì´í„°ì˜ íë¦„
- ë°ì´í„° ìˆ˜ì • -> UIë³€ê²½ì´ ìë™ìœ¼ë¡œ (provider)
	ex. Stream builder (google map í•  ë•Œ)
	ex. firebase (remote db)

### Stream Builder
- ì´ê±´ ì–´ë ¤ìš´ ì½”ë“œë¼ ì•ˆ ë‹¤ë£° ê²ƒ
- ë°ì´í„°ê°€ ì—†ëŠ” ê²½ìš°ì˜ ì²˜ë¦¬ë„ í•œ êµ°ë°ì„œ ë‹¤ ì²˜ë¦¬í•¨
- ì›í•˜ëŠ” ë¶€ë¶„ë§Œ UI ê°±ì‹ ì´ ê°€ëŠ¥í•¨
- ìŠ¤íŠ¸ë¦¼ ë¹Œë” (Future bulderì™€ ì‚¬ìš©ë°©ë²• ìœ ì‚¬í•¨)
- initial builderê°€ ìˆì–´ì„œ ì´ˆê¸°ê°’ ì„¤ì • ë§ê³ ëŠ” ì‚¬ìš©ë°©ë²• ë˜‘ê°™ìŒ
- ìˆ˜í‰ê³„ ìƒ˜í”Œ https://github.com/junsuk5/flutter-first-guide/blob/master/tilt_sensor/lib/main.dart

### êµ¬ë… / í•´ì§€
- Stream ë°ì´í„°ë¥¼ UI ë¡œ ë³€í™˜í•  í•„ìš”ê°€ ì—†ëŠ” ê²½ìš°ì— í™œìš©
- listen() ìœ¼ë¡œ êµ¬ë…

  ![image](https://github.com/itbebop/TIL/assets/86880025/cdb16090-2863-486b-b864-22573d15d3a2)

- cancel() ë¡œ í•´ì§€

  ![image](https://github.com/itbebop/TIL/assets/86880025/1b061388-03f0-4868-bc71-19875f6996f5)

- listen() ìœ¼ë¡œ ì‹œì‘í•œ êµ¬ë…ì„ í•´ì§€í•˜ë ¤ë©´ StreamSubscription ê°ì²´ì˜ ì¸ìŠ¤í„´ìŠ¤ë¥¼ í†µí•´ì•¼ í•œë‹¤

![image](https://github.com/itbebop/TIL/assets/86880025/fc460e82-a5b5-4c6b-ba23-675a978aa16b)

- êµ¬ë…ì˜ í•´ì§€

- StreamController ì‘ì„±

í•˜ë‚˜ì˜ ë¦¬ìŠ¤í„°ë¥¼ í—ˆìš©í•˜ëŠ” ìŠ¤íŠ¸ë¦¼
- êµ¬ë…ì„ í•œ êµ°ë°ì„œ ë°–ì— ëª»í•¨
- Cold Streamì´ë¼ê³  í•¨ (ë‹¤ë¥¸ ì–¸ì–´ì—ì„œë„ ë™ì¼í•¨)
- ë‚´ê°€ ìš”ì²­í•˜ë©´ ë°ì´í„°ë¥¼ ì¤Œ
- ì£¼ë¡œ ì´ ìŠ¤íŠ¸ë¦¼ ìœ í˜•ì„ ì‚¬ìš©í•¨

```dart
final _streamController = StreamContorller<int>();

_streamContorller.add(10);
// ì‚¬ì‹¤ì€ addë¼ê¸°ë³´ë‹¤ ì•ˆì— ìˆê±°ë‚˜ ì•„ì˜ˆ ê°’ì´ ì—†ê±°ë‚˜ 
```

ì—¬ëŸ¬ ë¦¬ìŠ¤ë„ˆë¥¼ í—ˆìš©í•˜ëŠ” ë¸Œë¡œë“œìºìŠ¤íŠ¸ ìŠ¤íŠ¸ë¦¼(Hot Stream)
- ìš”ì²­ê³¼ ìƒê´€ì—†ì´ ë°ì´í„°ë¥¼ ì¤Œ
- ì´ì „ í™”ë©´ì˜(ì§€ë‚˜ê°„) ì—ëŸ¬ëŠ” í‘œì‹œë¥¼ ì•ˆí•´ë„ ë˜ëŠ” ê²½ìš°
```dart
final _streamController = StreamController<int>.braodcase();
```

![image](https://github.com/itbebop/TIL/assets/86880025/4681d6b5-36d6-480f-ba32-e79f2820ee3c)

### Stream sample ë§Œë“¤ê¸°

[http://worldtimeapi.org/api/timezone/Asia/Seoul](http://worldtimeapi.org/api/timezone/Asia/Seoul "http://worldtimeapi.org/api/timezone/Asia/Seoul")
- ì´ apië¥¼ ì´ìš©í•˜ì—¬ streamì„ ë§Œë“¤ì–´ ë³¼  ê²ƒ
- global appì„ ë§Œë“¤ ë•Œì˜ ì‹œê°„ì€ utc ê¸°ì¤€ìœ¼ë¡œ í•´ì•¼í•¨


- model

![image](https://github.com/itbebop/TIL/assets/86880025/394d6f4b-afc4-4f98-b739-804d80afdd50)

![image](https://github.com/itbebop/TIL/assets/86880025/6bf51f1d-d2d2-47ed-bbfd-5f953dbe957e)

- ë³€ìˆ˜ ìƒì„±í•˜ìë§ˆì ê°’ ë„£ìŒ
- async ëª»ë„£ì–´ì„œ thenì„ ì¨ì„œ ê°’ì„ ë„£ìŒ

![image](https://github.com/itbebop/TIL/assets/86880025/1e847300-97e8-4812-b82f-3ebcc8060746)

- 5ì´ˆì— í•œë²ˆì”© ë°˜ë³µ

![image](https://github.com/itbebop/TIL/assets/86880025/f18906bb-6c4a-4527-a20a-683e857b3bcd)

- getterë¡œ stream ë‚´ë³´ë‚´ê³ 

![image](https://github.com/itbebop/TIL/assets/86880025/fd0f0e2b-1f69-40b0-8923-e31d0b2c121f)

- streamì— ë“¤ì–´ê°€ìˆëŠ” ë°ì´í„°ë¥¼ ë‚´ë³´ë‚¼ ë•ŒëŠ” controllerì— .streamê°ì²´ë¥¼ í†µí•´ì„œ ë‚´ë³´ëƒ„

### test

![image](https://github.com/itbebop/TIL/assets/86880025/d3c2963e-e97a-4036-8abe-fb63231a855a)

- test package

- repositoryëŠ” ì•„ì§ ì—†ì–´ì„œ ê°€ì§œ ê°ì²´ ë§Œë“¬

![image](https://github.com/itbebop/TIL/assets/86880025/ebb4d546-60a6-4b63-8be2-9c973805f78e)

- _times ++ í•˜ë©´ ë‹¤ìŒ ê°ì²´ ì „ë‹¬í•´ì¤Œ

![image](https://github.com/itbebop/TIL/assets/86880025/5c7fedcc-2bcd-4126-834f-9ff9a65be257)


### usecase

![image](https://github.com/itbebop/TIL/assets/86880025/df9ab9bf-1947-4fe1-ac18-9d7b6fd1f232)


- execute()ì—ì„œ ìŠ¤íŠ¸ë¦¼ì„ ë‚´ë³´ë‚´ëŠ” ê²ƒìœ¼ë¡œ ìˆ˜ì •

![alt text](image-203.png)

- Timerperiodicì‹¤í–‰í•˜ê³ , ë¦¬í„´í•´ì„œ ê·¸ê±¸ ê°€ì ¸ë‹¤ê°€ ì“°ë©´ ë¨

### ë‹¤ì‹œ í…ŒìŠ¤íŠ¸

![image](https://github.com/itbebop/TIL/assets/86880025/fdf3ff11-0229-419d-a6e9-83a9a4ad882a)

### ë””ë²„ê¹…

![image](https://github.com/itbebop/TIL/assets/86880025/e7b1099c-07db-4d70-9705-406a3cbe6cc0)

- í•¨ìˆ˜ë¥¼ ì¶”ê°€í•¨

![image](https://github.com/itbebop/TIL/assets/86880025/11010923-70fb-4459-b68f-c5735371eabd)

ã… ì •ë¦¬
- controllerë§Œë“¤ê³ 
- .add í•œ ê²ƒ
- stream return í•˜ëŠ” ê²ƒ
- streamì„ getterë¡œ ë‚´ë³´ë‚¸ë‹¤.

### main viewmodel

ã„´timeì€ ê³„ì† ë°”ë€ŒëŠ” ë°ì´í„°
ã„´providerë¥¼ ì“°ëŠ” ê±´ Futurebuilderë¥¼ ì•ˆì¨ë„ ë˜ì„œ

- usecaseë¥¼ ë°›ìŒ
- ìƒì„±ìì—ì„œ ë°”ë¡œ startë¥¼ í•´ë²„ë¦¼

![image](https://github.com/itbebop/TIL/assets/86880025/5154bbce-a155-42d0-bcfc-387b8460071e)

![image](https://github.com/itbebop/TIL/assets/86880025/eb20de24-99d7-428d-9c5f-27f898720719)

### view

![image](https://github.com/itbebop/TIL/assets/86880025/fb0496ef-da94-48dc-9665-3dd1bf26a37d)


### DI

![image](https://github.com/itbebop/TIL/assets/86880025/29b10b9b-1810-46aa-8ba8-296cd6e8850f)


- GetInì˜ ì¸ìŠ¤í„´ìŠ¤ ê°€ì ¸ì™€ì„œ di Setup
- repositoryImplì„ ìŠ¹ê²© ì‹œí‚´

![image](https://github.com/itbebop/TIL/assets/86880025/e2025305-f4eb-4d1b-90b0-fd5f7cc3945e)


## 2. í•œì¤„ ì •ë¦¬ ğŸ§¹
1. Stream ê³µì‹ë¬¸ì„œ ì˜ìƒ ë³¼ ê²ƒ https://youtu.be/nQBpOIHE4eE
2. ì˜ì¡´ì„±ì€ ì´ë¯¸ ì£¼ì…í•˜ê³  ìˆì—ˆìŒ
3. ì¦‰, ì˜ì¡´ì„± ì£¼ì…í•˜ë ¤ê³  get itì„ ì“°ëŠ” ê²Œ ì•„ë‹ˆë‹¤.
4. get itì„ ì¼ì„ ë•Œì˜ ì¥ì ì€ service locator íŒ¨í„´ìœ¼ë¡œ ì˜ì¡´ì„± ì£¼ì…ì„ í•´ì£¼ëŠ” ê²ƒ
5. go router ì•ˆ ì“°ê³  get itë§Œ ì“°ë©´ ë” ì—‰ë§ì§„ì°½ì´ ë  ìˆ˜ ìˆìŒ
6. mainí•¨ìˆ˜ë¥¼ ê¹”ë”í•˜ê²Œ ì“°ë ¤ê³  í•˜ëŠ” ê²ƒì´ ëª©ì ì„

## 3. ì°¸ê³ 
1. í•¨ìˆ˜ë“¤ì„ ëª¨ì•„ë‘” ì‚¬ì´íŠ¸ https://reactivex.io/
2. RXdart 
	- bloc ì“¸ ë• ì¨ì•¼
	- ì•„ë˜ í•¨ìˆ˜ë“¤ ì§€ì›í•¨
	  - ex. Map
	  - ex. Filter (dartì—ì„œëŠ” where)
    - ex. Debounce (dartì—ì„œëŠ” ì œê³µ x)
	  - ex. take
