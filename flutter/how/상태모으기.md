# 상태 모으기
view model에 business logic과 state가 함께 있던 구조였다.  
</br>
↓  

state가 많아짐에 따라 state를 모아서 관리하는 것이 필요하다.   
</br>
↓  

**어떻게?**    
플루터에는 접근제한자 protected가 없어 외부에서 값에 개입할 수가 있다....  
view model에서는 unmodifiable를 사용해 변경을 막았다.  
외부 개입을 막고 원본 데이터를 지키기, 하나로 관리하기위해 `freezed`를 사용하자  

> state란?
> 변수이다. 화면에 직접적으로 영향을 주는 애들이다, 화면이 알아야 하는..   
> business logic은 state 값을 만들기 위한 과정, 화면과 직접적인 연관 없음   

</br>

↓

**freezed를 사용하면 수정은?**  
수정은 copyWith()를 사용해서 덮어씌우는(?) 방식으로 하면 원하는 state의 값을 변경하면서 원본 데이터를 지킬 수 있다.  
</br>

**freezed에서 Default값을 주는 방법은?**
```
@Default('') String name,
```
</br>  

> **정리해주신 내용**
> 화면 하나에 하나의 UI 상태 홀더를 가지도록 한다   
> 일반적으로 ViewModel 에서 처리한다  
> 상태 홀더가 반드시 필요한 것은 아니다. 간단한 UI 는 간단히 처리하자  
> ViewModel은 **전체 화면에서만 사용**해야 한다
> 
> ViewModel의 **인스턴스를 하위 UI 요소에 전파하지 않는다**  
> - 이렇게 되면 UI 재사용성도 떨어지고  
> - 테스트 불가  
> - 디버깅도 어렵다  

</br>  

↓

**직접 적용해보기**   
[[⏰stopWatch]](https://github.com/yujiyeong/teum_sae)  
따라 작성했던 stop watch 부분을 provider와 router, view model... 을 적용시켜 보았다.  

</br>  

**느낀 점**  
따라 치는게 아니라 직접 생각해서 작성하려고 하니 어려웠다.  
정리하는 시간도 좋지만 직접 코드를 작성해보고 적용해보는 연습이 내게 더 필요하단 것을 깨달았다.  
또한, 코드를 작성할 때 주석을 달지 않아서 수정하러 코드를 들어가니 내가 내 코드를 이해하기 어려웠다.   
앞으로는 주석달기를 습관화하자...!   

