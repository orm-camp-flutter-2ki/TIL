## DI

서비스로케이터 패턴

로케이터 객체에 필요한 객체를 등록하고 로케이터 객체를 통해서 로케이터에 객체에 등록한 객체를 가져다 쓰는것 

이러한 서비스 로케이터 패턴을 사용하기 위해서 getIt을 활용한다.

get_it 은 전역으로 사용되는 인스턴스 저장소이다.

top-level 에서 어디서든 쉽게 getIt 으로 접근하도록 위와 같이 준비해서 편하게 쓰기로 함

서비스 로케이터 패턴은 막 쓰면 안티 패턴이니까 잘 써야 함

다음 두가지 방식으로 사용하기도 함 

Singleton : 하나의 인스턴스만 존재 → 뷰모델같이 데이터(필드 및 멤버변수)를 가지고 있는 경우를 제외한 레포지토리 같은 경우 해당방법 사용

Factory : 매번 새로운 인스턴스를 생성  → 뷰모델같이 데이터(필드 및 멤버변수)를 가지고 있는 경우 에서 해당 방법 사용 애매하면 이방법을 주로 사용해도 됨 

의존성 조립 코드가 먼저 와야 함

getIt<얻을 타입>() 으로 어디서든 객체를 주입 받을 수 있음

```dart
getIt<MainViewModel>()
```

입력 파라미터 타입을 따라(네임드 파라미터의 경우에 해당 방법으로 제네릭 생략) 제네릭은 생략할 수 있음 → 이 방법으로 의존성이 연속적으로 이어지는 경우에 코드가 간단해 질수 있음 다만 인터페이스의 경우 구체클래스가 이름이 명시적으로 다르므로 제네릭 명시해야함


> 
> 
> - 서비스 로케이터 패턴은 잘못 사용하면 완전 **안티 패턴**임
> - 안전하게 get_it + go_router 셋트로 꼭 go_router 내부에서만 get_it을 사용할 것
> - 아무대서나 get_it 을 사용하면 GetX 꼴 난다 → 의존성관계 무시하고 호출가능해서
> - 의존성 조립하는 코드를 잊지말고 꼭 호출한다. test 코드에서도.

https://tv.naver.com/v/29723803 꼭 시청

